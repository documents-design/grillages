(function(t){function e(e){for(var i,a,c=e[0],u=e[1],s=e[2],d=0,h=[];d<c.length;d++)a=c[d],r[a]&&h.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("c21b"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"controls"},[n("div",[t._v("\n          Divisions H : "+t._s(t.divH)+"\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.divH,expression:"divH"}],attrs:{type:"range",min:"10",max:"80",step:"1"},domProps:{value:t.divH},on:{change:t.draw,__r:function(e){t.divH=e.target.value}}})]),n("hr"),n("div",[t._v("\n          Divisions V : "+t._s(t.divV)+"\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.divV,expression:"divV"}],attrs:{type:"range",min:"10",max:"80",step:"1"},domProps:{value:t.divV},on:{change:t.draw,__r:function(e){t.divV=e.target.value}}})]),n("hr"),n("div",[t._v("\n          Pourcentage de trame : "+t._s(t.percent)+" %\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.percent,expression:"percent"}],attrs:{type:"range",min:"0",max:"100",step:"5"},domProps:{value:t.percent},on:{change:t.draw,__r:function(e){t.percent=e.target.value}}})]),n("hr"),n("div",[t._v("\n          Multiplicateur d'aperçu : "+t._s(t.multiplier)+"\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.multiplier,expression:"multiplier"}],attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.multiplier},on:{change:t.draw,__r:function(e){t.multiplier=e.target.value}}})]),n("hr"),n("div",[t._v("\n          Enlever les juxtapositions directes : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.watchJuxt,expression:"watchJuxt"}],attrs:{type:"checkbox"},domProps:{checked:t.watchJuxt,checked:Array.isArray(t.watchJuxt)?t._i(t.watchJuxt,null)>-1:t.watchJuxt},on:{change:[function(e){var n=t.watchJuxt,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i.checked?a<0&&(t.watchJuxt=n.concat([o])):a>-1&&(t.watchJuxt=n.slice(0,a).concat(n.slice(a+1)))}else t.watchJuxt=r},t.draw]}}),n("strong",[t._v(t._s(t.watchJuxt?"oui":"non"))])]),n("div",{class:t.watchJuxt?"":"disabled"},[t._v("\n          Mais en laisser "+t._s(t.watchJuxtTolerance)+" %\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.watchJuxtTolerance,expression:"watchJuxtTolerance"}],attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.watchJuxtTolerance},on:{change:t.draw,__r:function(e){t.watchJuxtTolerance=e.target.value}}})]),n("div",[t._v("\n          Enlever les juxtapositions diagonales  : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.watchJuxtD,expression:"watchJuxtD"}],attrs:{type:"checkbox"},domProps:{checked:t.watchJuxtD,checked:Array.isArray(t.watchJuxtD)?t._i(t.watchJuxtD,null)>-1:t.watchJuxtD},on:{change:[function(e){var n=t.watchJuxtD,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i.checked?a<0&&(t.watchJuxtD=n.concat([o])):a>-1&&(t.watchJuxtD=n.slice(0,a).concat(n.slice(a+1)))}else t.watchJuxtD=r},t.draw]}}),n("strong",[t._v(t._s(t.watchJuxtD?"oui":"non"))])]),n("div",{class:t.watchJuxtD?"":"disabled"},[t._v("\n          Mais en laisser "+t._s(t.watchJuxtDTolerance)+" %\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.watchJuxtDTolerance,expression:"watchJuxtDTolerance"}],attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.watchJuxtDTolerance},on:{change:t.draw,__r:function(e){t.watchJuxtDTolerance=e.target.value}}})]),n("hr"),n("div",[t._v("\n          Couleur : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],attrs:{type:"color"},domProps:{value:t.color},on:{change:t.draw,input:function(e){e.target.composing||(t.color=e.target.value)}}})]),n("hr"),n("div",[n("strong",[t._v("Pourcentage de trame effectif "+t._s(t.computedPercentage)+"%")])]),n("hr"),n("div",{staticClass:"buttons"},[n("button",{on:{click:t.draw}},[t._v("Forcer le rendu")]),n("button",{on:{click:t.downloadPNG}},[t._v("Télécharger un PNG")]),n("button",{on:{click:t.downloadSVG}},[t._v("Télécharger un SVG")]),n("button",{on:{click:t.random}},[t._v("Tout aléatoire")])])]),n("div",{staticClass:"render"},[n("canvas",{attrs:{width:t.divH,height:t.divV,id:"source"}}),n("canvas",{attrs:{width:t.divH*t.multiplier,height:t.divV*t.multiplier,id:"destination"}}),n("div",{staticClass:"pattern",style:{backgroundImage:t.pattern,width:t.divH*t.multiplier+"px",height:t.divV*t.multiplier+"px"}})])])},o=[],a=(n("a481"),function(t,e){for(var n=new Array(e),i=0;i<e;i++){n[i]=new Array(t);for(var r=0;r<t;r++)n[i][r]=0}return n}),c=function(t,e,n,i){var r=[];return n>0&&r.push([n-1,i]),i>0&&r.push([n,i-1]),n<t-1&&r.push([n+1,i]),i<e-1&&r.push([n,i+1]),r},u=function(t,e,n,i){var r=[];return i>0&&(n>0&&r.push([n-1,i-1]),n<t-1&&r.push([n+1,i-1])),i<e-1&&(n>0&&r.push([n-1,i+1]),n<t-1&&r.push([n+1,i+1])),r},s=function(t,e){return e.map(function(e){return t[e[0]][e[1]]}).filter(function(t){return 1===t}).length>0},l=function(t,e){for(var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=t.length,d=[],h=0;h<l;h++){n=t[h].length;for(var v=0;v<n;v++)(i||r)&&(i&&(d=c(l,n,h,v),s(t,d)&&100*Math.random()>o)||r&&(d=u(l,n,h,v),s(t,d)&&100*Math.random()>a))||(t[h][v]=100*Math.random()>e?0:1)}return t},d=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"black";t.fillStyle="white",t.fillRect(0,0,n*r,i*r),t.fillStyle=o;for(var a=e.length,c=0;c<a;c++)for(var u=e[c].length,s=0;s<u;s++)1===e[c][s]&&t.fillRect(s*r,c*r,1*r,1*r)},h=function(t){return t.replace("#","")},v=function(t,e){var n=t.divH,i=void 0===n?30:n,r=t.divV,o=void 0===r?30:r,a=t.color,c=void 0===a?"#000000":a,u=t.percent,s=void 0===u?50:u,l=t.multiplier,d=void 0===l?1:l,v=t.index,p=void 0===v?0:v;return"".concat(i*d,"-x-").concat(o*d,"-").concat(h(c),"-").concat(s,"p100-").concat(p,".").concat(e)},p=function(t,e,n){var i=t.toDataURL(),r=e.createElement("a");r.href=i,r.download=v(n,"png"),e.body.appendChild(r),r.click(),e.body.removeChild(r)},m=function(t,e,n){for(var i=[],r=t.length,o=0;o<r;o++)for(var a=t[o].length,c=0;c<a;c++)1===t[o][c]&&i.push('<rect x="'.concat(c*e,'" y="').concat(o*e,'" width="').concat(1*e,'" height="').concat(1*e,'" fill="').concat(n,'"/>'));return i.join("")},w=function(t,e){var n=e.divH,i=void 0===n?30:n,r=e.divV,o=void 0===r?30:r,a=e.color,c=void 0===a?"#000000":a,u=e.multiplier,s=void 0===u?1:u;return'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" width="'.concat(i*s,'" height="').concat(o*s,'" viewBox="0 0 ').concat(i*s," ").concat(o*s,'">\n    <rect  width="').concat(i*s,'" height="').concat(o*s,'" fill="#ffffff"/>\n    ').concat(m(t,s,c),"\n</svg>")},f=function(t,e,n){var i=e.createElement("a"),r=w(t,n);i.href="data:text/plain;charset=utf-8,"+encodeURIComponent(r),i.download=v(n,"svg"),e.body.appendChild(i),i.click(),e.body.removeChild(i)},x=function(t){var e=0,n=t.reduce(function(t,n){return e+=n.length,t+n.reduce(function(t,e){return t+e},0)},0);return(n/e*100).toFixed(2)},g={name:"app",data:function(){return{divH:56,divV:66,color:"#000000",cloud:[],percent:50,multiplier:10,watchJuxt:!1,watchJuxtTolerance:10,watchJuxtD:!1,watchJuxtDTolerance:10,dlCount:0,pattern:""}},computed:{computedPercentage:function(){return x(this.cloud)}},methods:{draw:function(){this.cloud=l(a(this.divH,this.divV),this.percent,this.watchJuxt,this.watchJuxtD,this.watchJuxtTolerance,this.watchJuxtDTolerance),d(this.$options.sourceContext,this.cloud,this.divH,this.divV,1,this.color),d(this.$options.destinationContext,this.cloud,this.divH,this.divV,this.multiplier,this.color),this.pattern="url(".concat(this.$options.sourceCanvas.toDataURL(),")")},random:function(){this.divH=parseInt(70*Math.random(),10)+10,this.divV=parseInt(70*Math.random(),10)+10,this.percent=parseInt(100*Math.random(),10),this.watchJuxt=Math.random()>.5,this.watchJuxtTolerance=parseInt(100*Math.random(),10),this.watchJuxtD=Math.random()>.5,this.watchJuxtDTolerance=parseInt(100*Math.random(),10),this.$nextTick(this.draw)},downloadPNG:function(){this.dlCount+=1,p(this.$options.destinationCanvas,window.document,{divH:this.divH,divV:this.divV,color:this.color,percent:this.percent,multiplier:this.multiplier,index:this.dlCount})},downloadSVG:function(){this.dlCount+=1,f(this.cloud,window.document,{divH:this.divH,divV:this.divV,color:this.color,percent:this.percent,multiplier:this.multiplier,index:this.dlCount})}},mounted:function(){this.cloud=a(this.divH,this.divV),this.$options.sourceCanvas=this.$el.querySelector("#source"),this.$options.destinationCanvas=this.$el.querySelector("#destination"),this.$options.sourceContext=this.$options.sourceCanvas.getContext("2d"),this.$options.destinationContext=this.$options.destinationCanvas.getContext("2d"),this.draw()}},_=g,J=(n("034f"),n("2877")),y=Object(J["a"])(_,r,o,!1,null,null,null);y.options.__file="App.vue";var b=y.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(b)}}).$mount("#app")},c21b:function(t,e,n){}});
//# sourceMappingURL=app.420a4b44.js.map